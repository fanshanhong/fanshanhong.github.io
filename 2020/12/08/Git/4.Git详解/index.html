<!DOCTYPE html><html data-theme="light"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Fan Blog</title><meta name="description"><meta name="author" content="Fan shanhong"><meta name="copyright" content="Fan shanhong"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content><meta name="twitter:description"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content><meta property="og:url" content="http://yoursite.com/2020/12/08/Git/4.Git详解/"><meta property="og:site_name" content="Fan Blog"><meta property="og:description"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/12/08/Git/4.Git详解/"><link rel="prev" title href="http://yoursite.com/2020/12/08/Http/8.加密/"><link rel="next" title href="http://yoursite.com/2020/12/08/Git/1.Git/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Fan Blog</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">115</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">6</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">4</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Git-对象数据库"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Git 对象数据库</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#对象模型"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">对象模型</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-对象数据库"><span class="toc-number">1.</span> <span class="toc-text">Git 对象数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对象模型"><span class="toc-number">1.1.</span> <span class="toc-text">对象模型</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">No title</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Created 2020-12-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> Updated 2020-12-08</time><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>Post View:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>解 读 git 的工作原理与各种系统文件</p>
<h2 id="Git-对象数据库"><a href="#Git-对象数据库" class="headerlink" title="Git 对象数据库"></a>Git 对象数据库</h2><p>在 git 中，文件，目录，提交记录都被作为对象管理。在本章中，我们将通过实际的例子学习 git 如何管理这些对 象。</p>
<p>file1.txt</p>
<p>dir1</p>
<p>dir2/file2.txt</p>
<p>dir2/dir3/file3.txt</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:gitclient shanhongfan$ cd init/</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ ls</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ touch file1.txt</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ vim file1.txt </span><br><span class="line">ShanhongdeiMac:init shanhongfan$ mkdir dir1</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ mkdir dir2/dir3</span><br><span class="line">mkdir: dir2: No such file or directory</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ mkdir -p dir2/dir3</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ touch dir2/file2.txt</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ vim dir2/file2.txt </span><br><span class="line">ShanhongdeiMac:init shanhongfan$ </span><br><span class="line">ShanhongdeiMac:init shanhongfan$ touch dir2/dir3/file3.txt</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ vim dir2/dir3/file3.txt </span><br><span class="line">ShanhongdeiMac:init shanhongfan$ </span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git add .</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git commit -m "version(1.0)"</span><br><span class="line">[master（根提交） 6d979b5] version(1.0)</span><br><span class="line"> 3 files changed, 4 insertions(+)</span><br><span class="line"> create mode 100644 dir2/dir3/file3.txt</span><br><span class="line"> create mode 100644 dir2/file2.txt</span><br><span class="line"> create mode 100644 file1.txt</span><br><span class="line">ShanhongdeiMac:init shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>当提交的时候，系统显示 7 位 16 进制的数字（6d979b5）是什么呢？</p>
<p>在 git 中每一条提交记录（commit）都有唯一的一个 40 位 16 进制的数字来表示它，同时，只要不发生冲突，我们可以使用提交记录标识符的前导字符串来标识它。这里的 7 位 16 进制数字就是提交记录标示符的前导字符串。</p>
<p>在 git 中，每一条提交记录都有一个这样的标识符。提交记录的标识符是      <strong>基于本次提交所包含的所有文件的内容， 父节点的标示符，系统实践，用户名</strong>等综合信息所生成的一个 <strong>SHA1 字符串</strong>，这可以保证 git 永远不会生成重复的 提交记录标识符（例如，两个不同的开发者即使在相同时间在各自的计算机上提交了相同的代码，git 也会为他们 的提交记录生成不同的 SHA1 标识符，因此这两条提交记录也会被 git 理解为两个不同的”版本”）。</p>
<p>那么 git 的提交记录保存在什么位置呢？在 git 中有 git/objects 这样一个目录。事实上， git 的提交记录就保存在这个目录中。</p>
<p>以 刚刚提交的那个记录 6d979b517c0f5a35591feb96f18c42543323808d  为例：</p>
<p>它的具体位置是：.git/objects/6d/979b517c0f5a35591feb96f18c42543323808d 中。注意这个目录  6d  就是  commitId 的前两位。</p>
<p>然后文件名字 97xxx  就是  commitId 后面的一串</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ ls .git/objects/6d/</span><br><span class="line">979b517c0f5a35591feb96f18c42543323808d</span><br></pre></td></tr></table></figure></div>
<p>注意：</p>
<p>为了叙述方便，位于.git/objects 下的文件，我们称为对象。</p>
<p>cat .git/objects/6d/979b517c0f5a35591feb96f18c42543323808d</p>
<p>我们发现这个对象的内容是二进制的，因此我们不能理解它的内容。</p>
<p>我们可以通过git提供的的命令来查看它：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file -t 6d979</span><br><span class="line">commit</span><br></pre></td></tr></table></figure></div>
<p>注意，-t  后面的这个参数 是目录名字+文件前几个字符就好了</p>
<p>Git 会显示以下信息：</p>
<p>commit</p>
<p><code>git cat-file -t &lt;SHA1&gt;</code>命令会显示与<sha1>对应的对象在 git 中的<strong>类型</strong>，因此 6d979 的类型是’commit’。这是合理的， 因此 6d979 代表了一条提交记录(commit)。 进一步，我们可以查看这条提交记录的内容：</sha1></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cat-file commit 6d979</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cat-file git类型  SHA1值</span><br></pre></td></tr></table></figure></div>
<p>Git 会显示以下信息：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file commit 6d979</span><br><span class="line">tree 346cdbcaeb3d81c37a41bb80f6bf6dbbfee3b836</span><br><span class="line">author fanshanhong &lt;443710231@qq.com&gt; 1602816198 +0800</span><br><span class="line">committer fanshanhong &lt;443710231@qq.com&gt; 1602816198 +0800</span><br><span class="line"></span><br><span class="line">version(1.0)</span><br><span class="line">ShanhongdeiMac:init shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p><code>git cat-file &lt;TYPE&gt; &lt;SHA1&gt;</code>命令会将  <sha1> 对应的<strong>对象</strong>   作为<type>类型显示。 这就是 6d979 这条提交记录的全部内容。</type></sha1></p>
<p>我们不难理解 author，committer，以及我们提交时候说写的说明文本。 那么第一行的”tree 346cdbcaeb3d81c37a41bb80f6bf6dbbfee3b836” 是什么意思呢？ 不难猜测，065d…这串 16 进制的数字是某个对象的标识符。那么 tree 又是什么呢？事实上 tree 是 346cdbcaeb3d81c37a41bb80f6bf6dbbfee3b836 这个对象的类型。</p>
<p>也就是说，在git 中， 我们提交的记录，是一个对象，类型是 commit 类型的。</p>
<p>那还有一种对象，是tree类型</p>
<p>.git/objects/34/6cdbcaeb3d81c37a41bb80f6bf6dbbfee3b836 ，它的内容也是二进制的。</p>
<p>因此，现在我们得出以下几个结论与猜想：</p>
<ol>
<li>在 git 中每一条提交记录都具有一个唯一的标识符（结论）</li>
<li>提交记录被作为二进制文件保存在.git/objects 目录下（结论）</li>
<li>git 中有多种类型的对象，比如 commit 类型，比如 tree类型（结论）</li>
<li>提交记录是 git 中的一种对象，它的类型为 commit（结论）</li>
<li>每个对象都有唯一的 SHA1 字符串与之对应</li>
<li>提交记录只包含最基本的信息，它的具体内容保存在一个 tree 类型的对象内（猜想）</li>
</ol>
<p>为了验证以上的猜想，我们来继续调查 tree 类型对象的内容。</p>
<p>我们尝试使用刚才学会的命令去看一下这个346cd的类型是不是tree</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file -t 346cd</span><br><span class="line">tree</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file tree 346cd</span><br><span class="line">40000 dir2ΒAx?I&lt;&lt;</span><br><span class="line">                 ?E?T??100644 file1.txt?3(?c???)?f`?.(?ElS</span><br></pre></td></tr></table></figure></div>
<p>使用 git cat-file 命令查看对象内容，都是乱码。。。。 </p>
<p> 我们可以通过以下命令来查看：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$  git ls-tree 346cd</span><br><span class="line">040000 tree ce92411c7818fa49153c3c140bfb4585541ca987	dir2</span><br><span class="line">100644 blob cc3328a56395ebc42917f36660892e1e28bd456c	file1.txt</span><br><span class="line"></span><br><span class="line">咋没有dir1呢??  dir1是个空目录啊，没给提交上么。。</span><br><span class="line">Git默认忽略空目录 所以直接 git add .  把我创建的那个dir1给忽略掉了。。额。。</span><br></pre></td></tr></table></figure></div>
<p>显然，第一行 tree  ce924xx  dir2 就是我们提交的目录dir2</p>
<p>然后，第二行 blob cc332xx file1.txt 就是我们提交的文件。</p>
<p>那么，文件的类型就是  blob，  目录的类型就是 tree。</p>
<p>猜想6：提交记录只包含最基本的信息，比如提交者，比如提交时候的备注文本，然后具体提交了哪些东西，这个内容保存在一个 tree 类型的对象内。</p>
<p>具体提交了哪些内容，也可以理解成一个目录。这样就跟上面第一行  tree 代表一个目录吻合了。</p>
<p>我们进一步验证 file1.txt，dir2 的内容是否与我们提交的内容一致。因而我 们可以继续调查：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file blob cc332</span><br><span class="line">version(1.0)</span><br></pre></td></tr></table></figure></div>
<p>这正是我们所提交的 file1.txt 的代码。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git ls-tree ce92411</span><br><span class="line">040000 tree d1f58324259be3e459399a7a014d5f10c4e7abea	dir3</span><br><span class="line">100644 blob 4531509471f2a7e645c1a89ba76caf63e45e6de0	file2.txt</span><br></pre></td></tr></table></figure></div>
<p>这正是我们所提交的 dir2 目录中所包含的文件名。</p>
<p>我们继续查看 file2.txt</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file blob 4531</span><br><span class="line">version(1.0)  file2.txt</span><br></pre></td></tr></table></figure></div>
<p>这正式我们所提交的内容</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git ls-tree d1f5</span><br><span class="line">100644 blob b5a79251d93f872f0ad9b9a044aed2d08bc03f09	file3.txt</span><br></pre></td></tr></table></figure></div>
<p>这正是我们所提交的 dir3 目录中所包含的文件名。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file blob b5a79</span><br><span class="line">version(1.0) file3.txt</span><br></pre></td></tr></table></figure></div>
<p>这里就是我们  file3.txt 里面提交的内容了</p>
<p>至此，我们已经验证了我们的 6 号猜想“提交记录只包含最基本的信息，它的具体内容保存在一个 tree 类型的对象 内”。 进一步分析我们可以理解：git 中的 tree 对象对应提交的代码中的目录，blob 对象对应提交的代码中的文件。tree 对象可以包含 blob 对象（目录中的文件）与 tree 对象（目录中的子目录）。</p>
<p>那么对于 5 号猜想“每个对象都有唯一的 SHA1 字符串与之对应”，我们如何验证呢？ 为此，我们可以做以下的测试：</p>
<p>git hash-object file1.txt</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git hash-object file1.txt </span><br><span class="line">cc3328a56395ebc42917f36660892e1e28bd456c</span><br></pre></td></tr></table></figure></div>
<p>将 file1.txt 复制到 dir4/file4.txt</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ mkdir dir4</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ cp file1.txt  dir4/file4.txt</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git hash-object file1.txt </span><br><span class="line">cc3328a56395ebc42917f36660892e1e28bd456c</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git hash-object dir4/file4.txt </span><br><span class="line">cc3328a56395ebc42917f36660892e1e28bd456c</span><br></pre></td></tr></table></figure></div>
<p><code>git hash-object &lt;文件&gt;</code>命令会计算文件在 git 中的 SHA1 标识符。 以上的测试告诉我们，对于文件而言，无论文件的名称如何修改，位于哪个目录中，只要文件的内容不便，它的 SHA1 就是相同的。同样不难测试，只要文件的内容不同，他们的 SHA1 就是不同的。</p>
<p>因此，我们可以得出一个结论：在 git 中，blob 类型对象的 SHA1 值 只与文件的内容有关，相同的文件内容永远产生 相同的 SHA1，而不同的文件内容永远产生不同的 SHA1。</p>
<p>注意：</p>
<p>这意味着如果我们将两个内容相同的文件提交到 git 中，他们实际上会被保存为同一个 blob 对象。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git add .</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git commit -m "验证内容相同的文件被存成同一个blob对象"</span><br><span class="line">[master 4ea4da7] 验证内容相同的文件被存成同一个blob对象</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 dir4/file4.txt</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git log</span><br><span class="line">commit 4ea4da7a08e2803c3f9d49c33c85a9635be131eb (HEAD -&gt; master)</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 16 11:30:10 2020 +0800</span><br><span class="line"></span><br><span class="line">    验证内容相同的文件被存成同一个blob对象</span><br><span class="line"></span><br><span class="line">commit 6d979b517c0f5a35591feb96f18c42543323808d</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 16 10:43:18 2020 +0800</span><br><span class="line"></span><br><span class="line">    version(1.0)</span><br><span class="line">ShanhongdeiMac:init shanhongfan$</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git ls-tree   4ea4</span><br><span class="line">040000 tree ce92411c7818fa49153c3c140bfb4585541ca987	dir2</span><br><span class="line">040000 tree 01b3a68508980fc6bf00cf3a7ddf11dcb3b2e9a9	dir4</span><br><span class="line">100644 blob cc3328a56395ebc42917f36660892e1e28bd456c	file1.txt</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git ls-tree 01b3</span><br><span class="line">100644 blob cc3328a56395ebc42917f36660892e1e28bd456c	file4.txt</span><br></pre></td></tr></table></figure></div>
<p>可以看到，  file1.txt 的 SHA1 和   dir4/file4.txt 的  SHA1相同</p>
<p>为什么 git ls-tree &lt;提交记录的 SHA1&gt;也可以显示正确的内容？ </p>
<p>因为每条提交记录与唯一的一个 tree 对象关联，因此 git 允许我们直接对提交记录的 SHA1 使用 git ls-tree 命令。 </p>
<p>如何关联的，一个commit 肯定有一个  tree</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file commit 6d979</span><br><span class="line">tree 346cdbcaeb3d81c37a41bb80f6bf6dbbfee3b836</span><br><span class="line">author fanshanhong &lt;443710231@qq.com&gt; 1602816198 +0800</span><br><span class="line">committer fanshanhong &lt;443710231@qq.com&gt; 1602816198 +0800</span><br><span class="line"></span><br><span class="line">version(1.0)</span><br><span class="line">ShanhongdeiMac:init shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>现在我们已经完全了解 git 是如何管理一条提交记录以及它所包含的内容了。那么 git 又是如何管理提交记录之间 的关联关系呢？我们来做如下的调查：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:init shanhongfan$  git log</span><br><span class="line">commit 4ea4da7a08e2803c3f9d49c33c85a9635be131eb (HEAD -&gt; master)</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 16 11:30:10 2020 +0800</span><br><span class="line"></span><br><span class="line">    验证内容相同的文件被存成同一个blob对象</span><br><span class="line"></span><br><span class="line">commit 6d979b517c0f5a35591feb96f18c42543323808d</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Fri Oct 16 10:43:18 2020 +0800</span><br><span class="line"></span><br><span class="line">    version(1.0)</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git cat-file commit 4e14</span><br><span class="line">tree 7bdc050afe5593a7ad825a8a2b4d2275628144bf</span><br><span class="line">parent 6d979b517c0f5a35591feb96f18c42543323808d</span><br><span class="line">author fanshanhong &lt;443710231@qq.com&gt; 1602819010 +0800</span><br><span class="line">committer fanshanhong &lt;443710231@qq.com&gt; 1602819010 +0800</span><br><span class="line"></span><br><span class="line">验证内容相同的文件被存成同一个blob对象</span><br><span class="line">ShanhongdeiMac:init shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>先git log， 然后查看最后的这一次提交。</p>
<p><code>parent 6d979b517c0f5a35591feb96f18c42543323808d</code>，说明它父节点的 SHA1 是 6d979，我们知道，在本例中 4ea4 代表了”验证内容相同的文件被存成同一个blob对象”这条提交记录。Git 正是通过 commit 对象的 parent 属性将独立的 commit 对象关 联起来，从而构成了分支的版本树。</p>
<p>注意：</p>
<p>如果某个 commit 对象是 merge 操作（多个分支的合并），则它会有多个 parent 属性。</p>
<p>我们来对以上的分析总结以下：</p>
<ul>
<li><p>在 git 中，提交记录，文件，目录都被作为对象，保存在.git/objects 目录中</p>
</li>
<li><p>每个对象有一个唯一的 SHA1 标识符</p>
</li>
<li><p>每提交一次，git 就会在.git/objects 下创建一个新的 commit 类型的对象</p>
</li>
<li><p>commit 类型对象的 SHA1 与本次提交的内容，系统时间，用户信息，父节点的 SHA1 等信息有关，因 此 git 永远不会产生重复的 commit 类型对象的 SHA1。（这一点可以保证两个不同的用户即使在相同实 践在各自的计算机上提交相同的内容，git 也会生成两个不同的“版本”）</p>
</li>
<li><p>commit 类型对象只包含关于本次提交的基本信息，提交的具体内容保存在另外一个 tree 类型的对象中</p>
</li>
<li><p>与 commit 类型对象直接关联的 tree 对象代表了代码的根目录</p>
</li>
<li><p>tree 对象可以包含 blob 对象（目录中的文件）与 tree 对象（目录中的子目录）</p>
</li>
<li><p>tree 对象的 SHA1 与目录中包含的文件的 SHA1，文件名以及子目录的 SHA1 有关。</p>
</li>
<li><p>blob 对象的 SHA1 只与文件的内容有关，因此内容相同的文件共享同一个 blob 对象</p>
</li>
</ul>
<p>来自另一个帖子：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git show -s --pretty=raw 2be7fcb476</span><br><span class="line">commit 2be7fcb4764f2dbcee52635b91fedb1b3dcf7ab4</span><br><span class="line">tree fb3a8bdd0ceddd019615af4d57a53f43d8cee2bf</span><br><span class="line">parent 257a84d9d02e90447b149af58b271c19405edb6a</span><br><span class="line">author Dave Watson &lt;dwatson@mimvista.com&gt; 1187576872 -0400</span><br><span class="line">committer Junio C Hamano &lt;gitster@pobox.com&gt; 1187591163 -0700</span><br><span class="line"></span><br><span class="line">    Fix misspelling of &apos;suppress&apos; in docs</span><br><span class="line"></span><br><span class="line">    Signed-off-by: Junio C Hamano &lt;gitster@pobox.com&gt;</span><br></pre></td></tr></table></figure></div>
<p>你可以看到, 一个提交(commit)由以下的部分组成:</p>
<ul>
<li>一个 <strong>tree</strong>　对象: tree对象的SHA1签名, 代表着目录在某一时间点的内容.</li>
<li><strong>父对象</strong> (parent(s)): 提交(commit)的SHA1签名代表着当前提交前一步的项目历史. 上面的那个例子就只有一个父对象; 合并的提交(merge commits)可能会有不只一个父对象. 如果一个提交没有父对象, 那么我们就叫它“根提交”(root commit), 它就代表着项目最初的一个版本(revision). 每个项目必须有至少有一个“根提交”(root commit). 一个项目可能有多个”根提交“，虽然这并不常见(这不是好的作法).</li>
<li><strong>作者</strong> : 做了此次修改的人的名字,　还有修改日期.</li>
<li><strong>提交者</strong>（committer): 实际创建提交(commit)的人的名字, 同时也带有提交日期. TA可能会和作者不是同一个人; 例如作者写一个补丁(patch)并把它用邮件发给提交者, 由他来创建提交(commit).</li>
</ul>
<p>－<strong>注释</strong> 用来描述此次提交.</p>
<p>注意: 一个提交(commit)本身并没有包括任何信息来说明其做了哪些修改; 所有的修改(changes)都是通过与父提交(parents)的内容比较而得出的. 值得一提的是, 尽管git可以检测到文件内容不变而路径改变的情况, 但是它不会去显式(explicitly)的记录文件的更名操作.　(你可以看一下 <a href="http://www.kernel.org/pub/software/scm/git/docs/git-diff.html" target="_blank" rel="noopener">git diff</a> 的 -M　参数的用法)</p>
<p>一般用 <a href="http://www.kernel.org/pub/software/scm/git/docs/git-commit.html" target="_blank" rel="noopener">git commit</a> 来创建一个提交(commit), 这个提交(commit)的父对象一般是当前分支(current HEAD),　同时把存储在当前索引(index)的内容全部提交.</p>
<h3 id="对象模型"><a href="#对象模型" class="headerlink" title="对象模型"></a>对象模型</h3><p>现在我们已经了解了3种主要对象类型(blob, tree 和 commit), 好现在就让我们大概了解一下它们怎么组合到一起的.</p>
<p>如果我们一个小项目, 有如下的目录结构:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$&gt;tree</span><br><span class="line">.</span><br><span class="line">|-- README</span><br><span class="line">`-- lib</span><br><span class="line">    |-- inc</span><br><span class="line">    |   `-- tricks.rb</span><br><span class="line">    `-- mylib.rb</span><br><span class="line"></span><br><span class="line">2 directories, 3 files</span><br></pre></td></tr></table></figure></div>
<p>如果我们把它提交(commit)到一个Git仓库中, 在Git中它们也许看起来就如下图:</p>
<p><a href="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/git_tree_object.png" data-fancybox="group" data-caption class="fancybox"><img src="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/git_tree_object.png" alt title></a></p>
<p>你可以看到: 每个目录都创建了 <strong>tree对象</strong> (包括根目录), 每个文件都创建了一个对应的 <strong>blob对象</strong> . 最后有一个 <strong>commit对象</strong> 来指向根tree对象(root of trees), 这样我们就可以追踪项目每一项提交内容.</p>
<p><a href="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/git_tag_object.png" data-fancybox="group" data-caption class="fancybox"><img src="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/git_tag_object.png" alt title></a></p>
<p>一个标签对象包括一个对象名(译者注:就是SHA1签名), 对象类型, 标签名, 标签创建人的名字(“tagger”), 还有一条可能包含有签名(signature)的消息. 你可以用 <a href="http://www.kernel.org/pub/software/scm/git/docs/git-cat-file.html" target="_blank" rel="noopener">git cat-file</a> 命令来查看这些信息:</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Fan shanhong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/12/08/Git/4.Git详解/">http://yoursite.com/2020/12/08/Git/4.Git详解/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/12/08/Http/8.加密/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span></span></div></a></div><div class="next-post pull_right"><a href="/2020/12/08/Git/1.Git/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span></span></div></a></div></nav></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Fan shanhong</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script></body></html>