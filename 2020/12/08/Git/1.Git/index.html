<!DOCTYPE html><html data-theme="light"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Fan Blog</title><meta name="description"><meta name="author" content="Fan shanhong"><meta name="copyright" content="Fan shanhong"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content><meta name="twitter:description"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content><meta property="og:url" content="http://yoursite.com/2020/12/08/Git/1.Git/"><meta property="og:site_name" content="Fan Blog"><meta property="og:description"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/12/08/Git/1.Git/"><link rel="prev" title href="http://yoursite.com/2020/12/08/Git/4.Git详解/"><link rel="next" title href="http://yoursite.com/2020/12/08/Flutter/Flutter打包版本/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Fan Blog</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">115</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">6</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">4</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#检出仓库"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">检出仓库</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#打Tag"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">打Tag</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#删除tag"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">删除tag</span></a></li></ol><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#有用的贴士"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">有用的贴士</span></a></li></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#检出仓库"><span class="toc-number">1.</span> <span class="toc-text">检出仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#打Tag"><span class="toc-number">2.</span> <span class="toc-text">打Tag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除tag"><span class="toc-number">3.</span> <span class="toc-text">删除tag</span></a></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#有用的贴士"><span class="toc-number"></span> <span class="toc-text">有用的贴士</span></a></li></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">No title</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Created 2020-12-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> Updated 2020-12-08</time><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>Post View:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>查看用户名和邮箱地址：</p>
<p>$ git config user.name</p>
<p>$ git config user.email</p>
<p>修改用户名和邮箱地址</p>
<p>$ git config –global user.name “xxxx”</p>
<p>S git config –global user.email “xxxx”</p>
<p>创建服务器端代码仓库</p>
<p>创建 git-test 代码仓库</p>
<p>git –bare init git-test</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:gitserver shanhongfan$ git --bare init git-test</span><br><span class="line"></span><br><span class="line">已初始化空的 Git 仓库于 /Volumes/Mechanical/E/Note/study/git/gitserver/git-test/</span><br></pre></td></tr></table></figure></div>
<p>如果是客户端创建空的仓库</p>
<p>$ git init</p>
<h3 id="检出仓库"><a href="#检出仓库" class="headerlink" title="检出仓库"></a>检出仓库</h3><p>执行如下命令以创建一个本地仓库的克隆版本：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">vbscript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone /path/<span class="keyword">to</span>/repository</span><br></pre></td></tr></table></figure></div>
<p>如果是远端服务器上的仓库，你的命令会是这个样子：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">elixir</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone username<span class="variable">@host</span><span class="symbol">:/path/to/repository</span></span><br></pre></td></tr></table></figure></div>
<p>example：</p>
<p>创建A的代码仓库</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/fanshanhong/git-demo.git  A</span><br></pre></td></tr></table></figure></div>
<p>指定本地仓库的目录名称为A</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/fanshanhong/git-demo.git</span><br></pre></td></tr></table></figure></div>
<p>本地仓库使用默认的目录名称，一般就是远端服务器仓库的名称，这里是git-demo</p>
<p>在默认情况下，Git会把”Git URL”里目录名的’.git’的后辍去掉,做为新克隆(clone)项目的目录名: (例如. <em>git clone <a href="http://git.kernel.org/linux/kernel/git/torvalds/linux-2.6.git" target="_blank" rel="noopener">http://git.kernel.org/linux/kernel/git/torvalds/linux-2.6.git</a></em> 会建立一个目录叫’linux-2.6’)</p>
<p>检查远端仓库的配置：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd A</span><br><span class="line"></span><br><span class="line">git remote</span><br></pre></td></tr></table></figure></div>
<p>Git 将会显示以下信息</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">origin</span><br></pre></td></tr></table></figure></div>
<p>git remote 命令的作用是显示本地所关联的远端仓库。因此，以上的输出意味着本地关联了一个叫做 origin 的远端 仓库。那么 origin 的地址是什么呢？我们可以进一步检查远端仓库的配置：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat .git/config</span><br></pre></td></tr></table></figure></div>
<p>可以看到如下内容：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ cat .git/config </span><br><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = true</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	ignorecase = true</span><br><span class="line">	precomposeunicode = true</span><br><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">	url = https://github.com/fanshanhong/git-demo.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">[branch &quot;main&quot;]</span><br><span class="line">	remote = origin</span><br><span class="line">	merge = refs/heads/main</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>origin 其实是一个远端仓库的别名（默认，origin 就指的是远端仓库，这个名字是可以改的），它实际的地址是有.git/config 中的 url 来决定的。因此在 A 的仓库中，origin 这 个别名实际上指向了’<a href="https://github.com/fanshanhong/git-demo.git&#39;这个服务器端的代码仓库。" target="_blank" rel="noopener">https://github.com/fanshanhong/git-demo.git&#39;这个服务器端的代码仓库。</a></p>
<p>tip：</p>
<p>git clone 会自动将本地仓库连接到远程服务器仓库</p>
<p>如果只执行命令git init ，那只是创建了一个空的git 仓库，没有连接。想要连接的话，需要使用命令git remote add命令来添加一个远程仓库</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin &lt;server&gt;</span><br><span class="line">git remote add origin https://github.com/fanshanhong/git-demo.git</span><br></pre></td></tr></table></figure></div>
<p>来验证一下我说的：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:gitclient shanhongfan$ ls</span><br><span class="line">A	B</span><br><span class="line">ShanhongdeiMac:gitclient shanhongfan$ mkdir init</span><br><span class="line">ShanhongdeiMac:gitclient shanhongfan$ cd init/</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git init</span><br><span class="line">已初始化空的 Git 仓库于 /Volumes/Mechanical/E/Note/study/git/gitclient/init/.git/</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ ls</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ cat .git/config </span><br><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = true</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	ignorecase = true</span><br><span class="line">	precomposeunicode = true</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ </span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git remote</span><br><span class="line">ShanhongdeiMac:init shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>可以看到，config里，并没有url，git remote 也没有打印东西，就是因为我们没有关联到远端。</p>
<p>我们关联一下。使用 git remote add 命令。我这里没有origin这个别名，而是换了一个其他的名字othername</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">用法：git remote add [&lt;选项&gt;] &lt;名称&gt; &lt;地址&gt;</span><br><span class="line"></span><br><span class="line">    -f, --fetch           抓取远程的分支</span><br><span class="line">    --tags                抓取时导入所有的标签和关联对象</span><br><span class="line">                          或不抓取任何标签（--no-tags）</span><br><span class="line">    -t, --track &lt;分支&gt;    跟踪的分支</span><br><span class="line">    -m, --master &lt;分支&gt;   主线分支</span><br><span class="line">    --mirror[=(push|fetch)]</span><br><span class="line">                          把远程设置为用以推送或抓取的镜像</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git remote add othername https://github.com/fanshanhong/git-demo.git</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ git remote</span><br><span class="line">othername</span><br><span class="line">ShanhongdeiMac:init shanhongfan$ cat .git/config </span><br><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = true</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	ignorecase = true</span><br><span class="line">	precomposeunicode = true</span><br><span class="line">[remote &quot;othername&quot;]</span><br><span class="line">	url = https://github.com/fanshanhong/git-demo.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/othername/*</span><br><span class="line">ShanhongdeiMac:init shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>移除本地缓存已有的remote信息</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">vim</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="built_in">remove</span> origin</span><br></pre></td></tr></table></figure></div>
<p>创建 B 的代码仓库</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:fanshanhong/git-demo.git  B</span><br></pre></td></tr></table></figure></div>
<p>A 修改代码。A在README文件中添加了：A第一次修改。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:gitclient shanhongfan$ cd A</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git status</span><br><span class="line">位于分支 main</span><br><span class="line">您的分支与上游分支 &apos;origin/main&apos; 一致。</span><br><span class="line"></span><br><span class="line">尚未暂存以备提交的变更：</span><br><span class="line">  （使用 &quot;git add &lt;文件&gt;...&quot; 更新要提交的内容）</span><br><span class="line">  （使用 &quot;git checkout -- &lt;文件&gt;...&quot; 丢弃工作区的改动）</span><br><span class="line"></span><br><span class="line">	修改：     README.md</span><br><span class="line"></span><br><span class="line">修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）</span><br></pre></td></tr></table></figure></div>
<p>我先尝试一下 git checkout – 文件  这个命令、确实是把我的修改给丢弃了诶。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ git checkout -- README.md </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git status</span><br><span class="line">位于分支 main</span><br><span class="line">您的分支与上游分支 &apos;origin/main&apos; 一致。</span><br><span class="line"></span><br><span class="line">无文件要提交，干净的工作区</span><br></pre></td></tr></table></figure></div>
<p>重新修改一下，再提交</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ git add .</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git commit -m &quot;A第一次提交&quot;</span><br><span class="line">[main 8ce1be7] A第一次提交</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>此时，REAME修改被提交到本地的代码仓库中。</p>
<p>现在我们将本地的修改推送到服务器端的代码仓库：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ git push</span><br><span class="line">Username for &apos;https://github.com&apos;: 443710231@qq.com</span><br><span class="line">Password for &apos;https://443710231@qq.com@github.com&apos;: </span><br><span class="line">枚举对象: 5, 完成.</span><br><span class="line">对象计数中: 100% (5/5), 完成.</span><br><span class="line">写入对象中: 100% (3/3), 298 bytes | 298.00 KiB/s, 完成.</span><br><span class="line">总共 3 （差异 0），复用 0 （差异 0）</span><br><span class="line">To https://github.com/fanshanhong/git-demo.git</span><br><span class="line">   75b20a4..8ce1be7  main -&gt; main</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>我这里不知道为啥分支是  main？ 一般默认分支都是master</p>
<p>发现了：在这里设置的，也可以修改的。</p>
<p><a href="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/github_branch_setting.png" data-fancybox="group" data-caption class="fancybox"><img src="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/github_branch_setting.png" alt title></a></p>
<p>git push 命令的作用是将本地仓库中的分支推送到远端仓库并与远端分支合并， 它的用法如下： git push &lt;远端仓库&gt; &lt;远端分支&gt;或 git push</p>
<p>当使用 git push &lt;远端仓库&gt; &lt;远端分支&gt;的时候，git 将当前的本地分支推送到&lt;远端仓库&gt;中的&lt;远端分支&gt;例如：</p>
<p>git push origin master</p>
<p>意味着将当前分支推送到 origin 中的 master 分支。</p>
<p>当使用 git push 的时候，git 会使用哪个&lt;远端仓库&gt;与&lt;远端分支&gt;呢？ 首先，我们再次查看.git/config 文件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ cat .git/config </span><br><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = true</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	ignorecase = true</span><br><span class="line">	precomposeunicode = true</span><br><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">	url = https://github.com/fanshanhong/git-demo.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">[branch &quot;main&quot;]</span><br><span class="line">	remote = origin</span><br><span class="line">	merge = refs/heads/main</span><br></pre></td></tr></table></figure></div>
<p>我们发现我的本地的 main 分支，它的 remote 为 origin。这意味着，当推送本地的 main 分支的时候，git 会向 origin 仓库推送。但是要推送到 origin 仓库中的哪个分支呢？答案是：git 默认会推送到同名的分支中去，也就是说 git 会将本地的 main 分支推送到远端的 origin/main 中去 。</p>
<p>因此，如果本地的分支为 topic/a，那么 git push 等价于 git push origin topic/a。</p>
<p>注意：</p>
<p>在大多数情况下，我们只需要使用 git push</p>
<p>我们尝试一下。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ git checkout -b tt</span><br><span class="line">切换到一个新分支 &apos;tt&apos;</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git push </span><br><span class="line">fatal: 当前分支 tt 没有对应的上游分支。</span><br><span class="line">为推送当前分支并建立与远程上游的跟踪，使用</span><br><span class="line"></span><br><span class="line">    git push --set-upstream origin tt</span><br><span class="line"></span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git push --set-upstream origin tt</span><br><span class="line">Username for &apos;https://github.com&apos;: 443710231@qq.com</span><br><span class="line">Password for &apos;https://443710231@qq.com@github.com&apos;: </span><br><span class="line">枚举对象: 4, 完成.</span><br><span class="line">对象计数中: 100% (4/4), 完成.</span><br><span class="line">使用 8 个线程进行压缩</span><br><span class="line">压缩对象中: 100% (2/2), 完成.</span><br><span class="line">写入对象中: 100% (3/3), 322 bytes | 107.00 KiB/s, 完成.</span><br><span class="line">总共 3 （差异 0），复用 0 （差异 0）</span><br><span class="line">remote: </span><br><span class="line">remote: Create a pull request for &apos;tt&apos; on GitHub by visiting:</span><br><span class="line">remote:      https://github.com/fanshanhong/git-demo/pull/new/tt</span><br><span class="line">remote: </span><br><span class="line">To https://github.com/fanshanhong/git-demo.git</span><br><span class="line"> * [new branch]      tt -&gt; tt</span><br><span class="line">分支 &apos;tt&apos; 设置为跟踪来自 &apos;origin&apos; 的远程分支 &apos;tt&apos;。</span><br></pre></td></tr></table></figure></div>
<p>这样在远程服务器就有了tt分支</p>
<p><a href="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/github_branch_tt.png" data-fancybox="group" data-caption class="fancybox"><img src="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/github_branch_tt.png" alt title></a></p>
<p>修改后再提交，git push 命令成功推到tt分支</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ vim a.txt </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git add .</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git commit -m &quot;尝试推送到tt分支&quot;</span><br><span class="line">[tt 1b9dc8c] 尝试推送到tt分支</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git push</span><br><span class="line">Username for &apos;https://github.com&apos;: 443710231@qq.com</span><br><span class="line">Password for &apos;https://443710231@qq.com@github.com&apos;: </span><br><span class="line">枚举对象: 5, 完成.</span><br><span class="line">对象计数中: 100% (5/5), 完成.</span><br><span class="line">使用 8 个线程进行压缩</span><br><span class="line">压缩对象中: 100% (2/2), 完成.</span><br><span class="line">写入对象中: 100% (3/3), 298 bytes | 298.00 KiB/s, 完成.</span><br><span class="line">总共 3 （差异 0），复用 0 （差异 0）</span><br><span class="line">To https://github.com/fanshanhong/git-demo.git</span><br><span class="line">   4ab2b2f..1b9dc8c  tt -&gt; tt</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>这里有一个关于写commit注释的技巧和大家分享：commit注释最好以一行短句子作为开头，来简要描述一下这次commit所作的修改（最好不要超过50个字符）；然后空一行再把详细的注释写清楚。这样就可以很方便的用工具把commit注释变成email通知，第一行作为标题，剩下的部分就作email的正文。</p>
<p>B 提取代码</p>
<p>假设 A 推送代码之后通知 B 将服务器端的代码更新到本地，那么 B 可以通过以下操作来提取代码：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:gitclient shanhongfan$ cd B</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git pull </span><br><span class="line">remote: Enumerating objects: 11, done.</span><br><span class="line">remote: Counting objects: 100% (11/11), done.</span><br><span class="line">remote: Compressing objects: 100% (5/5), done.</span><br><span class="line">remote: Total 9 (delta 0), reused 9 (delta 0), pack-reused 0</span><br><span class="line">展开对象中: 100% (9/9), 完成.</span><br><span class="line">来自 github.com:fanshanhong/git-demo</span><br><span class="line">   75b20a4..8ce1be7  main       -&gt; origin/main</span><br><span class="line"> * [新分支]          tt         -&gt; origin/tt</span><br><span class="line">更新 75b20a4..8ce1be7</span><br><span class="line">Fast-forward</span><br><span class="line"> README.md | 3 +++</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ ls</span><br><span class="line">README.md</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ cat README.md </span><br><span class="line"># git-demo</span><br><span class="line">git demo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A第一次修改</span><br></pre></td></tr></table></figure></div>
<p>git pull 命令的作用是将远端仓库的远端分支下载到本地， 并将下载的远端分支合并到本地的分支中。 它的 用法如下： git pull &lt;远端仓库&gt; &lt;远端分支&gt;或 git pull</p>
<p>当使用 git pull &lt;远端仓库&gt; &lt;远端分支&gt;的时候，git 将&lt;远端仓库&gt;/&lt;远端分支&gt;提取到本地，然后与当前分支合并。 例如：</p>
<p>git pull origin master</p>
<p>意味着 git 会：1）将 origin/master 下载到本地，2）再将 origin/master 与当前分支合并</p>
<p>当使用 git pull 的时候，git 会从使用哪个&lt;远端仓库&gt;与&lt;远端分支&gt;呢？首先，我们再次查看.git/config</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ cat .git/config </span><br><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = true</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	ignorecase = true</span><br><span class="line">	precomposeunicode = true</span><br><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">	url = git@github.com:fanshanhong/git-demo.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">[branch &quot;main&quot;]</span><br><span class="line">	remote = origin</span><br><span class="line">	merge = refs/heads/main</span><br></pre></td></tr></table></figure></div>
<p>remote = origin，（因为origin 是 remote的别名）意味着当前分支(main)会从 origin 远端仓库提取分支。 fetch = +refs/heads/<em>:refs/remotes/origin/</em>，意味着会将远端仓库中所有位于 refs/heads 目录下的分支下载到本地 的 refs/remotes/origin 目录下面 merge = refs/heads/main，意味着 git 会将远端仓库中 refs/heads 目录下的 main 分支与当前分支合并。 因此，在默认情况下，当使用 git pull 时，git 会：1）从当前分支 remote 属性指定的远端仓库下载所有的分支 2） 将当前分支 merge 属性所指定的远端分支合并到当前分支。 在本例中，git pull 等价于 git pull origin main。</p>
<p>那如果我切换到tt分支呢？</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ git checkout tt</span><br><span class="line">分支 &apos;tt&apos; 设置为跟踪来自 &apos;origin&apos; 的远程分支 &apos;tt&apos;。</span><br><span class="line">切换到一个新分支 &apos;tt&apos;</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ cat .git/config </span><br><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = true</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	ignorecase = true</span><br><span class="line">	precomposeunicode = true</span><br><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">	url = git@github.com:fanshanhong/git-demo.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">[branch &quot;main&quot;]</span><br><span class="line">	remote = origin</span><br><span class="line">	merge = refs/heads/main</span><br><span class="line">[branch &quot;tt&quot;]</span><br><span class="line">	remote = origin</span><br><span class="line">	merge = refs/heads/tt</span><br></pre></td></tr></table></figure></div>
<p>可以看到，切换到tt分支（git checkout tt）后，再查看.git/config 文件，里面展示了 tt分支的remote 和  merge 属性</p>
<p>那，在tt分支上执行 git pull ，就是：</p>
<p>1）从tt分支 remote 属性（remote=origin）指定的远端仓库下载所有的分支 </p>
<p>2） 将tt分支 merge 属性所指定的远端分支（也就是refs/heads/tt）合并到当前分支（tt）</p>
<p>这样就懂了哦</p>
<p>注意：</p>
<p>在大多数情况下，我们只需要使用 git pull</p>
<p>我们可以用 git branch 命令显示所有的本地分支</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ git branch </span><br><span class="line">  main</span><br><span class="line">* tt</span><br></pre></td></tr></table></figure></div>
<p>git branch -a 可以同时查看本地分支，当前分支，以及显示所有下载到本地的远端分支。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ git branch -a</span><br><span class="line">  main</span><br><span class="line">* tt</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/main</span><br><span class="line">  remotes/origin/main</span><br><span class="line">  remotes/origin/tt</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">切换分支</span><br><span class="line">&gt; git checkout 分支名</span><br></pre></td></tr></table></figure></div>
<p>我们可以用 git remote 命令显示所有的远端仓库。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ git remote</span><br><span class="line"></span><br><span class="line">origin</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ cat .git/config </span><br><span class="line">[core]</span><br><span class="line">	repositoryformatversion = 0</span><br><span class="line">	filemode = true</span><br><span class="line">	bare = false</span><br><span class="line">	logallrefupdates = true</span><br><span class="line">	ignorecase = true</span><br><span class="line">	precomposeunicode = true</span><br><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">	url = git@github.com:fanshanhong/git-demo.git</span><br><span class="line">	fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">[branch &quot;main&quot;]</span><br><span class="line">	remote = origin</span><br><span class="line">	merge = refs/heads/main</span><br><span class="line">[branch &quot;tt&quot;]</span><br><span class="line">	remote = origin</span><br><span class="line">	merge = refs/heads/tt</span><br></pre></td></tr></table></figure></div>
<p>[remote “origin”] – 表示此处配置一个远端仓库，本地名称为 origin。 </p>
<p>url = <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:fanshanhong/git-demo.git - 表示 origin 远端仓库的内容来源于 <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:fanshanhong/git-demo.git</p>
<p>fetch = +refs/heads/<em>:refs/remotes/origin/</em> - 表示在本地执行 git pull origin 的时候，git 会先将远端仓库的 refs/heads/<em> 下载到本地的 refs/remotes/origin/</em>中。 </p>
<p>[branch “main”] - 表示此处配置一个本地分支，分支名称为 main。 </p>
<p>remote = origin - 表示本地的 main 分支与 origin 远端仓库关联</p>
<p>git pull 是先fetch，再merge。那git 会先将远端仓库的 refs/heads/<em> 下载到本地的 refs/remotes/origin/</em>中 ，然后 merge = refs/heads/main - 表示git 会将 从origin.url/heads/main 下载下来的分支与本地的 main 合并。</p>
<p>B 修改代码</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ vim README.md </span><br><span class="line">ShanhongdeiMac:B shanhongfan$ </span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git commit -m &quot;B第一次修改&quot;</span><br><span class="line">位于分支 main</span><br><span class="line">您的分支与上游分支 &apos;origin/main&apos; 一致。</span><br><span class="line"></span><br><span class="line">尚未暂存以备提交的变更：</span><br><span class="line">	修改：     README.md</span><br><span class="line"></span><br><span class="line">修改尚未加入提交</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git add .</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git commit -m &quot;B第一次修改&quot;</span><br><span class="line">[main 63643f5] B第一次修改</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git push</span><br><span class="line">枚举对象: 5, 完成.</span><br><span class="line">对象计数中: 100% (5/5), 完成.</span><br><span class="line">使用 8 个线程进行压缩</span><br><span class="line">压缩对象中: 100% (2/2), 完成.</span><br><span class="line">写入对象中: 100% (3/3), 307 bytes | 307.00 KiB/s, 完成.</span><br><span class="line">总共 3 （差异 0），复用 0 （差异 0）</span><br><span class="line">To github.com:fanshanhong/git-demo.git</span><br><span class="line">   8ce1be7..63643f5  main -&gt; main</span><br><span class="line">ShanhongdeiMac:B shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>A，B 同时修改代码</p>
<p>B修改后，A没拉代码，就相当于AB同时修改了。这样可能会冲突，试试</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ pwd </span><br><span class="line">/Volumes/Mechanical/E/Note/study/git/gitclient/A</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git checkout main</span><br><span class="line">切换到分支 'main'</span><br><span class="line">您的分支领先 'origin/main' 共 1 个提交。</span><br><span class="line">  （使用 "git push" 来发布您的本地提交）</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ vim README.md </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git add .</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git commit -m "A第二次修改"</span><br><span class="line">[main 6648a9f] A第二次修改</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git push</span><br><span class="line">Username for 'https://github.com': 443710231@qq.com</span><br><span class="line">Password for 'https://443710231@qq.com@github.com': </span><br><span class="line">To https://github.com/fanshanhong/git-demo.git</span><br><span class="line"> ! [rejected]        main -&gt; main (fetch first)</span><br><span class="line">error: 推送一些引用到 'https://github.com/fanshanhong/git-demo.git' 失败</span><br><span class="line">提示：更新被拒绝，因为远程仓库包含您本地尚不存在的提交。这通常是因为另外</span><br><span class="line">提示：一个仓库已向该引用进行了推送。再次推送前，您可能需要先整合远程变更</span><br><span class="line">提示：（如 'git pull ...'）。</span><br><span class="line">提示：详见 'git push --help' 中的 'Note about fast-forwards' 小节。</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>这个错误意味着，git-server 中的 refs/heads/main 的版本比本地的 refs/heads/main 的版本新，因此不允许推送。</p>
<p>此时，我们应该尝试提取服务器上最新的代码并将代码合并到本地的分支中：按照他的提示做就好了。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ git pull</span><br><span class="line">remote: Enumerating objects: 5, done.</span><br><span class="line">remote: Counting objects: 100% (5/5), done.</span><br><span class="line">remote: Compressing objects: 100% (2/2), done.</span><br><span class="line">remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0</span><br><span class="line">展开对象中: 100% (3/3), 完成.</span><br><span class="line">来自 https://github.com/fanshanhong/git-demo</span><br><span class="line">   8ce1be7..63643f5  main       -&gt; origin/main</span><br><span class="line">自动合并 README.md</span><br><span class="line">冲突（内容）：合并冲突于 README.md</span><br><span class="line">自动合并失败，修正冲突然后提交修正的结果。</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>可以看到REAME.md文件冲突了，并且自动合并失败了，我们来看一下</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ git status</span><br><span class="line">位于分支 main</span><br><span class="line">您的分支和 &apos;origin/main&apos; 出现了偏离，</span><br><span class="line">并且分别有 2 和 1 处不同的提交。</span><br><span class="line">  （使用 &quot;git pull&quot; 来合并远程分支）</span><br><span class="line"></span><br><span class="line">您有尚未合并的路径。</span><br><span class="line">  （解决冲突并运行 &quot;git commit&quot;）</span><br><span class="line">  （使用 &quot;git merge --abort&quot; 终止合并）</span><br><span class="line"></span><br><span class="line">未合并的路径：</span><br><span class="line">  （使用 &quot;git add &lt;文件&gt;...&quot; 标记解决方案）</span><br><span class="line"></span><br><span class="line">	双方修改：   README.md</span><br><span class="line"></span><br><span class="line">修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>README.md中的内容</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># git-demo</span><br><span class="line">git demo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A第一次修改。</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">A第二次修改。</span><br><span class="line">=======</span><br><span class="line">B第一次修复。</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; 63643f5db368aa62765ff4dc99bf557a30259715</span><br></pre></td></tr></table></figure></div>
<p>处理冲突后提交</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:A shanhongfan$ vim README.md </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ </span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git add .</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git commit -m "处理冲突"</span><br><span class="line">[main d103e18] 处理冲突</span><br><span class="line">ShanhongdeiMac:A shanhongfan$ git push</span><br><span class="line">Username for 'https://github.com': 443710231@qq.com</span><br><span class="line">Password for 'https://443710231@qq.com@github.com': </span><br><span class="line">枚举对象: 10, 完成.</span><br><span class="line">对象计数中: 100% (10/10), 完成.</span><br><span class="line">使用 8 个线程进行压缩</span><br><span class="line">压缩对象中: 100% (6/6), 完成.</span><br><span class="line">写入对象中: 100% (6/6), 625 bytes | 312.00 KiB/s, 完成.</span><br><span class="line">总共 6 （差异 1），复用 0 （差异 0）</span><br><span class="line">remote: Resolving deltas: 100% (1/1), done.</span><br><span class="line">To https://github.com/fanshanhong/git-demo.git</span><br><span class="line">   63643f5..d103e18  main -&gt; main</span><br><span class="line">ShanhongdeiMac:A shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>B 提取代码</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ pwd</span><br><span class="line">/Volumes/Mechanical/E/Note/study/git/gitclient/B</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git pull</span><br><span class="line">remote: Enumerating objects: 14, done.</span><br><span class="line">remote: Counting objects: 100% (13/13), done.</span><br><span class="line">remote: Compressing objects: 100% (7/7), done.</span><br><span class="line">remote: Total 8 (delta 1), reused 8 (delta 1), pack-reused 0</span><br><span class="line">展开对象中: 100% (8/8), 完成.</span><br><span class="line">来自 github.com:fanshanhong/git-demo</span><br><span class="line">   63643f5..d103e18  main       -&gt; origin/main</span><br><span class="line">   1b9dc8c..b93da16  tt         -&gt; origin/tt</span><br><span class="line">更新 63643f5..d103e18</span><br><span class="line">Fast-forward</span><br><span class="line"> README.md | 1 +</span><br><span class="line"> a.txt     | 0</span><br><span class="line"> 2 files changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 a.txt</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ cat README.md </span><br><span class="line"><span class="meta">#</span><span class="bash"> git-demo</span></span><br><span class="line">git demo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A第一次修改。</span><br><span class="line">A第二次修改。</span><br><span class="line">B第一次修复。</span><br><span class="line">ShanhongdeiMac:B shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>注意：</p>
<p>更新合并成功，因为 B 已经解决了冲突并将解决后的版本推送到了服务器。</p>
<p>直接运行 gitk 查看版本树。或者用source tree 看也可以</p>
<p>浏览提交历史</p>
<p>Git 的历史记录是由一系列彼此关联的提交(commit)记录构成的。与传统的版本管理工具不同，Git 不是通过版本号来表示提交记录的。Git 为每一个提交 记录分配一个 40 位的 16 进制数字来学标识它，不难理解，这串数字一定是唯一的。</p>
<p>在任何时刻，你都可以通过以下命令查看提交的历史记录</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure></div>
<p>如果你希望同时显示每一步的修改内容，可以使用：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -p</span><br></pre></td></tr></table></figure></div>
<p>其中 p 是”patch”的缩写，意思是输出补丁。 很多时候，显示历史记录的概要内容就可以帮助我们大概了解每一次提交所做的改动：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --stat --summary</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --pretty=format:<span class="string">'%h : %s'</span> --graph</span><br></pre></td></tr></table></figure></div>
<p>–graph 可视化提交视图</p>
<p>我们可以通过 git show 命令来查看某个提交的具体内容：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show aa1e89f0ab6085f7cafc34cf970837b2fffdda2e</span><br></pre></td></tr></table></figure></div>
<p>可以使用字符串前导部分，只要这部分字符串足够长不会与其他的提交记录重复：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show aa1e</span><br></pre></td></tr></table></figure></div>
<ul>
<li><p>使用 HEAD 变量：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show HEAD</span><br></pre></td></tr></table></figure></div>
<blockquote>
<p>HEAD 是一个系统的变量（我们称之为分支末端），它的值是当前分支中最后一条提交记录的标示符</p>
<p>因此，默认情况下，git show HEAD 等价于 git show</p>
</blockquote>
</li>
</ul>
<p>• 使用分支名：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show master</span><br></pre></td></tr></table></figure></div>
<blockquote>
<p>在 git 中，分支名等价于分支最后一条提交记录的标示符</p>
</blockquote>
<p>我们可以通过以下方式来访问提交记录的祖先节点：</p>
<p>显示 HEAD 的父节点</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show HEAD^</span><br></pre></td></tr></table></figure></div>
<p>显示 HEAD 的 2 级祖先节点</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show HEAD^^</span><br></pre></td></tr></table></figure></div>
<p>显示 HEAD 的 4 级祖先节点</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show HEAD~4</span><br></pre></td></tr></table></figure></div>
<p>验证一下：是看那条蓝色的线。</p>
<p><a href="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/git_head_pict.png" data-fancybox="group" data-caption class="fancybox"><img src="https://cdn.jsdelivr.net/gh/fanshanhong/note-image/git_head_pict.png" alt title></a></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$  git show HEAD^</span><br><span class="line">commit 6648a9ff12acf059edd73d9320025159db170ccc</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Tue Oct 13 16:50:47 2020 +0800</span><br><span class="line"></span><br><span class="line">    A第二次修改</span><br><span class="line"></span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index 0840dd7..962a28a 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -2,4 +2,5 @@</span><br><span class="line"> git demo</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">-A第一次修改。</span><br><span class="line">\ No newline at end of file</span><br><span class="line">+A第一次修改。</span><br><span class="line">+A第二次修改。</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git show HEAD^^</span><br><span class="line">commit 4ab2b2fc4f6b448308858e69e7fe06a9f3d187d4</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Tue Oct 13 15:18:11 2020 +0800</span><br><span class="line"></span><br><span class="line">    添加了一个a.txt，测试一下push命令</span><br><span class="line"></span><br><span class="line">diff --git a/a.txt b/a.txt</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..e69de29</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ </span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git show HEAD~4</span><br><span class="line">commit 75b20a40eeaa981a9254776bf547a5b7c462d650</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Tue Oct 13 14:46:39 2020 +0800</span><br><span class="line"></span><br><span class="line">    Initial commit</span><br><span class="line"></span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..a764dca</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -0,0 +1,2 @@</span><br><span class="line">+# git-demo</span><br><span class="line">+git demo</span><br><span class="line">ShanhongdeiMac:B shanhongfan$</span><br></pre></td></tr></table></figure></div>
<h3 id="打Tag"><a href="#打Tag" class="headerlink" title="打Tag"></a>打Tag</h3><p>我们也可以为某条提交记录添加一个标签(tag)</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag v1.1.3 6648</span><br></pre></td></tr></table></figure></div>
<p>此后，我们可以通过 v1.1.3 来访问 6648…这条提交记录。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ShanhongdeiMac:B shanhongfan$ git tag v1.1.3 6648</span><br><span class="line">ShanhongdeiMac:B shanhongfan$ </span><br><span class="line">ShanhongdeiMac:B shanhongfan$ git show v1.1.3</span><br><span class="line">commit 6648a9ff12acf059edd73d9320025159db170ccc (tag: B-v1.1.3)</span><br><span class="line">Author: fanshanhong &lt;443710231@qq.com&gt;</span><br><span class="line">Date:   Tue Oct 13 16:50:47 2020 +0800</span><br><span class="line"></span><br><span class="line">    A第二次修改</span><br><span class="line"></span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index 0840dd7..962a28a 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -2,4 +2,5 @@</span><br><span class="line"> git demo</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">-A第一次修改。</span><br><span class="line">\ No newline at end of file</span><br><span class="line">+A第一次修改。</span><br><span class="line">+A第二次修改。</span><br><span class="line">ShanhongdeiMac:B shanhongfan$</span><br></pre></td></tr></table></figure></div>
<p>显示 v1.1.3 与当前分支顶端之间的差异</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff v1.1.3 HEAD</span><br></pre></td></tr></table></figure></div>
<p>基于 v1.1 创建一个名称为 topic/a 的分支</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch topic/a v1.1.3</span><br></pre></td></tr></table></figure></div>
<p>其实，这个v1.1.3的tag一直都没有推送到服务器上</p>
<h3 id="删除tag"><a href="#删除tag" class="headerlink" title="删除tag"></a>删除tag</h3><p>删除本地tag：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v1.1.3</span><br></pre></td></tr></table></figure></div>
<p>删除远程tag：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin :refs/tags/v1.1.3</span><br></pre></td></tr></table></figure></div>
<h2 id="有用的贴士"><a href="#有用的贴士" class="headerlink" title="有用的贴士"></a>有用的贴士</h2><p>内建的图形化 git：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitk</span><br></pre></td></tr></table></figure></div>
<p>彩色的 git 输出：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang"></div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config color.ui true</span><br></pre></td></tr></table></figure></div>
<p>显示历史记录时，只显示一行注释信息：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">stylus</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config format<span class="selector-class">.pretty</span> oneline</span><br></pre></td></tr></table></figure></div>
<p>交互地添加文件至缓存区：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -<span class="built_in">i</span></span><br></pre></td></tr></table></figure></div>
<p>到此 git常用的命令已经 讲解完毕，下面开始讲解Git 实例教程</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Fan shanhong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/12/08/Git/1.Git/">http://yoursite.com/2020/12/08/Git/1.Git/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/12/08/Git/4.Git详解/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span></span></div></a></div><div class="next-post pull_right"><a href="/2020/12/08/Flutter/Flutter打包版本/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span></span></div></a></div></nav></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Fan shanhong</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script></body></html>