<!DOCTYPE html><html data-theme="light"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Hexo</title><meta name="description"><meta name="author" content="Fan shanhong"><meta name="copyright" content="Fan shanhong"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content><meta name="twitter:description"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content><meta property="og:url" content="http://yoursite.com/2020/03/12/Java/泛型总结/"><meta property="og:site_name" content="Hexo"><meta property="og:description"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/03/12/Java/泛型总结/"><link rel="prev" title href="http://yoursite.com/2020/05/14/Flutter/Flutter打包版本/"><link rel="next" title href="http://yoursite.com/2020/03/12/Android/Volley/Google Volley源码分析/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Hexo</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">31</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">2</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Table-of-Contents"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Table of Contents</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#一-概述"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">一.概述</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-什么是Java泛型"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">1.什么是Java泛型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-Java泛型的意义"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">2.Java泛型的意义</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#二-泛型类"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">二.泛型类</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#三-泛型接口"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">三.泛型接口</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#四-泛型方法"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">四.泛型方法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-泛型方法基本介绍"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">1.泛型方法基本介绍</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-泛型方法的说明"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">2.泛型方法的说明</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-泛型方法的使用"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">3.泛型方法的使用</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#五-泛型使用过程中的相关限制"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">五.泛型使用过程中的相关限制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#六-继承关系"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">六.继承关系</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#八-泛型的上下边界和通配符"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">八.泛型的上下边界和通配符 ?</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#九-获取泛型的参数类型"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">九.获取泛型的参数类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#十-Gson中的TypeToken"><span class="toc_mobile_items-number">10.</span> <span class="toc_mobile_items-text">十.Gson中的TypeToken</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Table-of-Contents"><span class="toc-number">1.</span> <span class="toc-text">Table of Contents</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#一-概述"><span class="toc-number">2.</span> <span class="toc-text">一.概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-什么是Java泛型"><span class="toc-number">2.1.</span> <span class="toc-text">1.什么是Java泛型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Java泛型的意义"><span class="toc-number">2.2.</span> <span class="toc-text">2.Java泛型的意义</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二-泛型类"><span class="toc-number">3.</span> <span class="toc-text">二.泛型类</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三-泛型接口"><span class="toc-number">4.</span> <span class="toc-text">三.泛型接口</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四-泛型方法"><span class="toc-number">5.</span> <span class="toc-text">四.泛型方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-泛型方法基本介绍"><span class="toc-number">5.1.</span> <span class="toc-text">1.泛型方法基本介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-泛型方法的说明"><span class="toc-number">5.2.</span> <span class="toc-text">2.泛型方法的说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-泛型方法的使用"><span class="toc-number">5.3.</span> <span class="toc-text">3.泛型方法的使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五-泛型使用过程中的相关限制"><span class="toc-number">6.</span> <span class="toc-text">五.泛型使用过程中的相关限制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#六-继承关系"><span class="toc-number">7.</span> <span class="toc-text">六.继承关系</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#八-泛型的上下边界和通配符"><span class="toc-number">8.</span> <span class="toc-text">八.泛型的上下边界和通配符 ?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#九-获取泛型的参数类型"><span class="toc-number">9.</span> <span class="toc-text">九.获取泛型的参数类型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#十-Gson中的TypeToken"><span class="toc-number">10.</span> <span class="toc-text">十.Gson中的TypeToken</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">No title</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Created 2020-03-12<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> Updated 2020-03-15</time><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>Post View:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>Java泛型总结</p>
<h1 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h1><ul>
<li><a href="#一概述">一.概述</a><ul>
<li><a href="#1什么是java泛型">1.什么是Java泛型</a></li>
<li><a href="#2java泛型的意义">2.Java泛型的意义</a></li>
</ul>
</li>
<li><a href="#二泛型类">二.泛型类</a></li>
<li><a href="#三泛型接口">三.泛型接口</a></li>
<li><a href="#四泛型方法">四.泛型方法</a><ul>
<li><a href="#1泛型方法基本介绍">1.泛型方法基本介绍</a></li>
<li><a href="#2泛型方法的说明">2.泛型方法的说明</a></li>
<li><a href="#3泛型方法的使用">3.泛型方法的使用</a></li>
</ul>
</li>
<li><a href="#五泛型使用过程中的相关限制">五.泛型使用过程中的相关限制</a></li>
<li><a href="#六继承关系">六.继承关系</a></li>
<li><a href="#八泛型的上下边界和通配符-">八.泛型的上下边界和通配符 ?</a></li>
<li><a href="#九获取泛型的参数类型">九.获取泛型的参数类型</a></li>
<li><a href="#十gson中的typetoken">十.Gson中的TypeToken</a></li>
</ul>
<h1 id="一-概述"><a href="#一-概述" class="headerlink" title="一.概述"></a>一.概述</h1><h2 id="1-什么是Java泛型"><a href="#1-什么是Java泛型" class="headerlink" title="1.什么是Java泛型"></a>1.什么是Java泛型</h2><p>泛型，即“参数化类型”。就是将类型由原来具体的类型, 比如<code>Food food</code> 这个<code>Food</code>类型改为参数化, 由外部调用的时候来指定。</p>
<h2 id="2-Java泛型的意义"><a href="#2-Java泛型的意义" class="headerlink" title="2.Java泛型的意义"></a>2.Java泛型的意义</h2><p>使用泛型的意义在于:</p>
<ul>
<li>a.封装及代码复用, 适用于多种数据类型执行相同的代码(比如Request<t>, Response<t>), 这样就可以通过对外开放相同的接口来完成对一组类的操作</t></t></li>
<li>b.在编译时期进行类型安全检查 (比如ArrayList<t>)</t></li>
<li>c.控制数据安全访问, 即PECS法则。</li>
</ul>
<h1 id="二-泛型类"><a href="#二-泛型类" class="headerlink" title="二.泛型类"></a>二.泛型类</h1><p>泛型类型用于类的定义中，被称为泛型类。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 此处T可以随便写为任意标识，常见的如T、E、K、V等形式的参数常用于表示泛型</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GenericClass</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    T data;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GenericClass</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GenericClass</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在实例化泛型类时，传入的实参类型（说的是右侧的&lt;String&gt;）需与泛型的类型参数类型（说的是左侧的&lt;String&gt;）相同。</span></span><br><span class="line"><span class="comment">// 右侧的可以推断出来， 因此可以省略。但是要写的话，一定要相同。</span></span><br><span class="line">GenericClass&lt;String&gt; s = <span class="keyword">new</span> GenericClass&lt;String&gt;(<span class="string">"123"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在使用泛型的时候如果传入泛型实参，则会根据传入的泛型实参做相应的限制，此时泛型才会起到本应起到的限制作用。</span></span><br><span class="line"><span class="comment">// 如果不传入泛型类型实参的话，在泛型类中使用泛型的方法或成员变量定义的类型可以为任何的类型。</span></span><br><span class="line">GenericClass generic = <span class="keyword">new</span> GenericClass(<span class="string">"111111"</span>);</span><br><span class="line">GenericClass generic1 = <span class="keyword">new</span> GenericClass(<span class="number">4444</span>);</span><br><span class="line">GenericClass generic2 = <span class="keyword">new</span> GenericClass(<span class="number">55.55</span>);</span><br><span class="line">GenericClass generic3 = <span class="keyword">new</span> GenericClass(<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure></div>
<h1 id="三-泛型接口"><a href="#三-泛型接口" class="headerlink" title="三.泛型接口"></a>三.泛型接口</h1><p>泛型类型用于接口的定义中，被称为泛型类。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Generator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>泛型接口的实现方式有两种：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现泛型接口的方式1</span></span><br><span class="line"><span class="comment">// 接口中未传入泛型实参，需将泛型的声明也一起加到类中, 也就是在类的声明中写上&lt;T&gt;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FruitGenerator</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Generator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现泛型接口的方式2</span></span><br><span class="line"><span class="comment">// 在接口中指定泛型实参, 这样类中的泛型就规定好了, 所有使用泛型的地方都要替换成传入的实参类型, 这里是String</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FoodGenerator</span> <span class="keyword">implements</span> <span class="title">Generator</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h1 id="四-泛型方法"><a href="#四-泛型方法" class="headerlink" title="四.泛型方法"></a>四.泛型方法</h1><p>泛型类，是在实例化类的时候指明泛型的具体类型；泛型方法，是在调用方法的时候指明泛型的具体类型。</p>
<h2 id="1-泛型方法基本介绍"><a href="#1-泛型方法基本介绍" class="headerlink" title="1.泛型方法基本介绍"></a>1.泛型方法基本介绍</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型方法的基本介绍</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> tClass 传入的泛型实参</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> T 返回值为T类型</span></span><br><span class="line"><span class="comment"> * 说明：</span></span><br><span class="line"><span class="comment"> *     1）public 与 返回值中间&lt;T&gt;非常重要，可以理解为声明此方法为泛型方法。</span></span><br><span class="line"><span class="comment"> *     2）只有声明了&lt;T&gt;的方法才是泛型方法，泛型类中的使用了泛型的成员方法并不是泛型方法。</span></span><br><span class="line"><span class="comment"> *     3）&lt;T&gt;表明该方法将使用泛型类型T，此时才可以在方法中使用泛型类型T。</span></span><br><span class="line"><span class="comment"> *     4）与泛型类的定义一样，此处T可以随便写为任意标识，常见的如T、E、K、V等形式的参数常用于表示泛型。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">genericMethod</span><span class="params">(Class&lt;T&gt; tClass)</span><span class="keyword">throws</span> InstantiationException,</span></span><br><span class="line"><span class="function">  IllegalAccessException</span>&#123;</span><br><span class="line">        T instance = tClass.newInstance();</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object obj = genericMethod(Class.forName(<span class="string">"com.test.test"</span>));</span><br></pre></td></tr></table></figure></div>
<h2 id="2-泛型方法的说明"><a href="#2-泛型方法的说明" class="headerlink" title="2.泛型方法的说明"></a>2.泛型方法的说明</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GenericMethodTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 这个类是个泛型类，在上面已经介绍过</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Generic</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> T key;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Generic</span><span class="params">(T key)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这个方法虽然使用了泛型，但是这并不是一个泛型方法。</span></span><br><span class="line">        <span class="comment">// 这只是类中一个普通的成员方法，只不过他的返回值是在声明泛型类已经声明过的泛型。</span></span><br><span class="line">        <span class="comment">// 所以在这个方法中才可以继续使用 T 这个泛型。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">getKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> key;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 这个方法显然是有问题的，在编译器会给我们提示这样的错误信息"cannot resolve symbol E"</span></span><br><span class="line"><span class="comment">         * 因为在类的声明中并未声明泛型E，所以在使用E做形参和返回值类型时，编译器会无法识别。</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         *      public E setKey(E key)&#123;</span></span><br><span class="line"><span class="comment">         *             this.key = keu</span></span><br><span class="line"><span class="comment">         *      &#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 这才是一个真正的泛型方法。</span></span><br><span class="line"><span class="comment">     * 首先在public与返回值之间的&lt;T&gt;必不可少，这表明这是一个泛型方法，并且声明了一个泛型T</span></span><br><span class="line"><span class="comment">     * 这个 T 可以出现在这个泛型方法的任意位置.</span></span><br><span class="line"><span class="comment">     * 泛型的数量也可以为任意多个</span></span><br><span class="line"><span class="comment">     * 如：</span></span><br><span class="line"><span class="comment">     *      public &lt;T,K&gt; K showKeyName(Generic&lt;T&gt; container)&#123;</span></span><br><span class="line"><span class="comment">     *          ...</span></span><br><span class="line"><span class="comment">     *      &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">showKeyName</span><span class="params">(Generic&lt;T&gt; container)</span> </span>&#123;</span><br><span class="line">        T test = container.getKey();</span><br><span class="line">        <span class="keyword">return</span> test;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 这也不是一个泛型方法，这就是一个普通的方法，只是使用了Generic&lt;Number&gt;这个泛型类做形参而已。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showKeyValue1</span><span class="params">(Generic&lt;Number&gt; obj)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 这也不是一个泛型方法，这也是一个普通的方法，只不过使用了泛型通配符?</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showKeyValue2</span><span class="params">(Generic&lt;?&gt; obj)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 这个方法是有问题的，编译器会为我们提示错误信息："UnKnown class 'E' "</span></span><br><span class="line"><span class="comment">     * 虽然我们声明了&lt;T&gt;,也表明了这是一个可以处理泛型的类型的泛型方法。</span></span><br><span class="line"><span class="comment">     * 但是只声明了泛型类型T，并未声明泛型类型E，因此编译器并不知道该如何处理E这个类型。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *      public &lt;T&gt; T showKeyName(Generic&lt;E&gt; container)&#123;</span></span><br><span class="line"><span class="comment">     *          ...</span></span><br><span class="line"><span class="comment">     *      &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="3-泛型方法的使用"><a href="#3-泛型方法的使用" class="headerlink" title="3.泛型方法的使用"></a>3.泛型方法的使用</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GenericFruit</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"fruit"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">extends</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"apple"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"Person"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">GenerateTest</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show_1</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">            System.out.println(t.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这是在泛型类中声明了一个泛型方法，使用泛型E，这种泛型E可以为任意类型。可以类型与T相同，也可以不同。</span></span><br><span class="line">        <span class="comment">// 由于泛型方法在声明的时候会声明泛型&lt;E&gt;，因此即使在泛型类中并未声明泛型，编译器也能够正确识别泛型方法中识别的泛型&lt;E&gt;。</span></span><br><span class="line">        <span class="keyword">public</span> &lt;E&gt; <span class="function"><span class="keyword">void</span> <span class="title">show_3</span><span class="params">(E t)</span> </span>&#123;</span><br><span class="line">            System.out.println(t.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//在泛型类中声明了一个泛型方法，使用泛型T，注意这个T是一种全新的类型，可以与泛型类中声明的T不是同一种类型。</span></span><br><span class="line">        <span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">show_2</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">            System.out.println(t.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Apple apple = <span class="keyword">new</span> Apple();</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建一个泛型类，并且指定泛型的实参是Fruit类型</span></span><br><span class="line">        GenerateTest&lt;Fruit&gt; generateTest = <span class="keyword">new</span> GenerateTest&lt;Fruit&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用类的成员方法(这个show_1()方法是类的成员方法)</span></span><br><span class="line">        <span class="comment">// apple是Fruit的子类，所以这里可以传入Apple类型</span></span><br><span class="line">        <span class="comment">// 单单对泛型T而已, 是可以传入子类对象的(多态)</span></span><br><span class="line">        generateTest.show_1(apple);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 编译器会报错，因为泛型类型实参在创建的时候指定的是Fruit，而传入的实参类是Person</span></span><br><span class="line">        <span class="comment">// generateTest.show_1(person);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用泛型方法</span></span><br><span class="line">        generateTest.show_2(apple);</span><br><span class="line">        <span class="comment">// 这是完整的写法, 在调用泛型方法的时候指定泛型的类型为Apple</span></span><br><span class="line">        generateTest.&lt;Apple&gt;show_2(apple);</span><br><span class="line">        <span class="comment">// 调用泛型方法</span></span><br><span class="line">        generateTest.show_2(person);</span><br><span class="line">        <span class="comment">// 这是完整的写法, 在调用泛型方法的时候指定泛型的类型为Person</span></span><br><span class="line">        generateTest.&lt;Person&gt;show_2(person);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这两个也是在调用泛型方法, 与上面的一致</span></span><br><span class="line">        generateTest.show_3(apple);</span><br><span class="line">        generateTest.show_3(person);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这样调用泛型方法是可以的。指定泛型方法的泛型实参为Fruit类型，然后参入传入Fruit的子类。（多态）</span></span><br><span class="line">        generateTest.&lt;Fruit&gt;show_3(apple);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 总结:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// a.在指定类的T(也就是泛型实参)的时候, 右侧的Fruit必须和左侧指定的Fruit完全相同，不能写子类。因为：GenericClass&lt;Apple&gt;  与 GenericClass&lt;Fruit&gt;没有继承关系的（具体请看  《 第六节.继承关系 》）</span></span><br><span class="line">        <span class="comment">// 比如 GenericClass&lt;Fruit&gt; n = new GenericClass&lt;Fruit&gt;(new Fruit()); 右侧的Fruit必须和左侧指定的Fruit完全相同</span></span><br><span class="line">        <span class="comment">// 如果 GenericClass&lt;Fruit&gt; n = new GenericClass&lt;Apple&gt;(new Fruit()); 就报错</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// b.在指定类的T(也就是泛型实参)的时候, 传入的方法的参数也一定要是泛型实参的类型，不能是子类。</span></span><br><span class="line">        <span class="comment">// 比如 GenericClass&lt;Fruit&gt; n = new GenericClass&lt;&gt;(new Fruit());</span></span><br><span class="line">        <span class="comment">// 如果 GenericClass&lt;Fruit&gt; n = new GenericClass&lt;&gt;(new Apple()); 是报错的</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// c.但是在调用的时候, 是可以传入 T 的 子类的。</span></span><br><span class="line">        <span class="comment">// 比如</span></span><br><span class="line">        <span class="comment">// OK</span></span><br><span class="line">        GenericClass&lt;Number&gt; g1 = <span class="keyword">new</span> GenericClass&lt;Number&gt;(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">// NOT OK</span></span><br><span class="line">        GenericClass&lt;Number&gt; g2 = <span class="keyword">new</span> GenericClass&lt;Integer&gt;(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">// 也 NOT OK</span></span><br><span class="line">        GenericClass&lt;Fruit&gt; gApple = <span class="keyword">new</span> GenericClass&lt;Fruit&gt;(<span class="keyword">new</span> Apple());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 但是在调用方法的时候, 如果参数是类型是T, 那可以传入T的子类的</span></span><br><span class="line">        gApple.setData(<span class="keyword">new</span> Apple());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h1 id="五-泛型使用过程中的相关限制"><a href="#五-泛型使用过程中的相关限制" class="headerlink" title="五.泛型使用过程中的相关限制"></a>五.泛型使用过程中的相关限制</h1><ol>
<li>泛型的类型参数只能是类类型（包括自定义类），不能是基本类型<br><br></li>
<li>泛型类中的泛型T不能直接实例化， 比如<code>T t = new T()</code>, 这样是不行的。<br><br></li>
<li>泛型变量不能作为类的静态变量存在， 只能作为类的成员变量。 比如： <code>private static T t;</code> 这样是不行的。<br>3.1.  因此，静态方法是无法访问用泛型声明的成员变量的。<br>3.2.  那么，想在静态方法中引入泛型，就必须使用静态的泛型方法， 也就是  <code>staitc &lt;T&gt; void show(T t) {}</code> 这样的形式。<br><br></li>
<li>无法使用instanceof关键字判断泛型类的类型, 无法使用“==”判断两个泛型类的实例</li>
</ol>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; stringArrayList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">List&lt;Integer&gt; integerArrayList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 无法使用instanceof关键字判断泛型类的类型</span></span><br><span class="line"><span class="comment"> * Illegal generic type for instanceof</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * if(stringArrayList instanceof ArrayList&lt;String&gt;)&#123;</span></span><br><span class="line"><span class="comment"> *      return;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 无法使用“==”判断两个泛型类的实例</span></span><br><span class="line"><span class="comment"> * Operator '==' cannot be applied to this two instance</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * if (stringArrayList == integerArrayList) &#123;</span></span><br><span class="line"><span class="comment"> *      return;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure></div>
<ol start="5">
<li>泛型类的原生类型与所传递的泛型无关，无论传递什么类型，原生类是一样的。Java中的泛型，只在编译阶段有效。在编译过程中，正确检验泛型结果后，会将泛型的相关信息擦出，并且在对象进入和离开方法的边界处添加类型检查和类型转换的方法。也就是说，泛型信息不会进入到运行时阶段。</li>
</ol>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; stringArrayList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">List&lt;Integer&gt; integerArrayList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">List&lt;Number&gt; numberArrayList = <span class="keyword">new</span> ArrayList&lt;Number&gt;();</span><br><span class="line"></span><br><span class="line">Class classStringArrayList = stringArrayList.getClass();</span><br><span class="line">Class classIntegerArrayList = integerArrayList.getClass();</span><br><span class="line">Class classNumberArrayList = numberArrayList.getClass();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(classStringArrayList == classIntegerArrayList)&#123;</span><br><span class="line">    Log.d(<span class="string">"泛型测试"</span>,<span class="string">"类型相同"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(classNumberArrayList == classIntegerArrayList)&#123;</span><br><span class="line">    Log.d(<span class="string">"泛型测试"</span>,<span class="string">"类型相同"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h1 id="六-继承关系"><a href="#六-继承关系" class="headerlink" title="六.继承关系"></a>六.继承关系</h1><ol>
<li><p><code>Integer</code>是<code>Number</code>的子类， 但是<code>ArrayList&lt;Integer&gt;</code>不能被看作为<code>ArrayList&lt;Number&gt;</code>的子类。二者没有继承关系。由此可以看出:同一种泛型可以对应多个版本（因为参数类型是不确定的），不同版本的泛型类实例是不兼容的。</p>
<blockquote>
<p>因此，需要传入<code>ArrayList&lt;Number&gt;</code>作为参数的地方， 不可以传入<code>ArrayList&lt;Integer&gt;</code></p>
</blockquote>
</li>
<li><p>泛型类可以继承其它泛型类，例如: public class ArrayList<e> extends AbstractList<e>。</e></e></p>
<blockquote>
<p>因此，需要传入<code>List&lt;E&gt;</code> 的地方， 可以传入 <code>ArrayList&lt;E&gt;</code>, <code>E</code>必须是相同的</p>
</blockquote>
</li>
</ol>
<p>示例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericInherit</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T data1;</span><br><span class="line">    <span class="keyword">private</span> T data2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getData1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData1</span><span class="params">(T data1)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data1 = data1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getData2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData2</span><span class="params">(T data2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data2 = data2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;V&gt; <span class="function"><span class="keyword">void</span> <span class="title">setData2</span><span class="params">(GenericInherit&lt;Father&gt; data2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//Son 继承自 Father</span></span><br><span class="line">        Father father = <span class="keyword">new</span> Father();</span><br><span class="line">        Son son = <span class="keyword">new</span> Son();</span><br><span class="line">        GenericInherit&lt;Father&gt; fatherGenericInherit = <span class="keyword">new</span> GenericInherit&lt;&gt;();</span><br><span class="line">        GenericInherit&lt;Son&gt; sonGenericInherit = <span class="keyword">new</span> GenericInherit&lt;&gt;();</span><br><span class="line">        SubGenericInherit&lt;Father&gt; fatherSubGenericInherit = <span class="keyword">new</span> SubGenericInherit&lt;&gt;();</span><br><span class="line">        SubGenericInherit&lt;Son&gt; sonSubGenericInherit = <span class="keyword">new</span> SubGenericInherit&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 对于传递的泛型类型是继承关系的泛型类之间是没有继承关系的</span></span><br><span class="line"><span class="comment">         * GenericInherit&lt;Father&gt; 与GenericInherit&lt;Son&gt; 没有继承关系</span></span><br><span class="line"><span class="comment">         * Incompatible types.</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        father = <span class="keyword">new</span> Son();</span><br><span class="line">        <span class="comment">//fatherGenericInherit = new GenericInherit&lt;Son&gt;();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 泛型类可以继承其它泛型类，例如: public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        fatherGenericInherit = <span class="keyword">new</span> SubGenericInherit&lt;Father&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 泛型类的继承关系在使用中同样会受到泛型类型的影响</span></span><br><span class="line"><span class="comment">         * setData2()方法的参数是： GenericInherit&lt;Father&gt;， 可以传入它的子类 SubGenericInherit&lt;Father&gt;</span></span><br><span class="line"><span class="comment">         * 但是 GenericInherit&lt;Son&gt; 、SubGenericInherit&lt;Son&gt; 与 GenericInherit&lt;Father&gt; 都没有任何继承关系的 </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        setData2(fatherGenericInherit);</span><br><span class="line">        <span class="comment">//setData2(sonGenericInherit);</span></span><br><span class="line">        setData2(fatherSubGenericInherit);</span><br><span class="line">        <span class="comment">//setData2(sonSubGenericInherit);</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SubGenericInherit</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">GenericInherit</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div>
<h1 id="八-泛型的上下边界和通配符"><a href="#八-泛型的上下边界和通配符" class="headerlink" title="八.泛型的上下边界和通配符 ?"></a>八.泛型的上下边界和通配符 ?</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericByWildcard</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(GenericClass&lt;Fruit&gt; fruitGenericClass)</span> </span>&#123;</span><br><span class="line">        System.out.println(fruitGenericClass.getData().getColor());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">use</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        GenericClass&lt;Fruit&gt; fruitGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        print(fruitGenericClass);</span><br><span class="line">        GenericClass&lt;Orange&gt; orangeGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        <span class="comment">//类型不匹配,可以使用&lt;? extends Parent&gt; 来解决</span></span><br><span class="line">        <span class="comment">//print(orangeGenericClass);因为GenericClass&lt;Orange&gt; 和 GenericClass&lt;Fruit&gt;没有继承关系</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &lt;? extends Parent&gt; 指定了泛型类型的上届</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printExtends</span><span class="params">(GenericClass&lt;? extends Fruit&gt; genericClass)</span> </span>&#123;</span><br><span class="line">        System.out.println(genericClass.getData().getColor());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">useExtend</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        GenericClass&lt;Fruit&gt; fruitGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printExtends(fruitGenericClass);</span><br><span class="line">        GenericClass&lt;Orange&gt; orangeGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printExtends(orangeGenericClass);</span><br><span class="line"></span><br><span class="line">        GenericClass&lt;Food&gt; foodGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        <span class="comment">//Food是Fruit的父类，超过了泛型上届范围，类型不匹配</span></span><br><span class="line">        <span class="comment">//printExtends(foodGenericClass);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//表示GenericClass的类型参数的上届是Fruit</span></span><br><span class="line">        GenericClass&lt;? extends Fruit&gt; extendFruitGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        Apple apple = <span class="keyword">new</span> Apple();</span><br><span class="line">        Fruit fruit = <span class="keyword">new</span> Fruit();</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 道理很简单，？ extends X  表示类型的上界，类型参数是X的子类，那么可以肯定的说，</span></span><br><span class="line"><span class="comment">         * get方法返回的一定是个X（不管是X或者X的子类）编译器是可以确定知道的。</span></span><br><span class="line"><span class="comment">         * 但是set方法只知道传入的是个X，至于具体是X的那个子类，不知道。</span></span><br><span class="line"><span class="comment">         * 总结：主要用于安全地访问数据，可以访问X及其子类型，并且不能写入非null的数据。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//extendFruitGenericClass.setData(apple);</span></span><br><span class="line">        <span class="comment">//extendFruitGenericClass.setData(fruit);</span></span><br><span class="line"></span><br><span class="line">        fruit = extendFruitGenericClass.getData();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &lt;? super Child&gt; 指定了泛型类型的下届</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printSuper</span><span class="params">(GenericClass&lt;? <span class="keyword">super</span> Apple&gt; genericClass)</span> </span>&#123;</span><br><span class="line">        System.out.println(genericClass.getData());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">useSuper</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        GenericClass&lt;Food&gt; foodGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printSuper(foodGenericClass);</span><br><span class="line"></span><br><span class="line">        GenericClass&lt;Fruit&gt; fruitGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printSuper(fruitGenericClass);</span><br><span class="line"></span><br><span class="line">        GenericClass&lt;Apple&gt; appleGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printSuper(appleGenericClass);</span><br><span class="line"></span><br><span class="line">        GenericClass&lt;HongFuShiApple&gt; hongFuShiAppleGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        <span class="comment">// HongFuShiApple 是Apple的子类，达不到泛型下届，类型不匹配</span></span><br><span class="line">        <span class="comment">//printSuper(hongFuShiAppleGenericClass);</span></span><br><span class="line"></span><br><span class="line">        GenericClass&lt;Orange&gt; orangeGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        <span class="comment">// Orange和Apple是兄弟关系，没有继承关系，类型不匹配</span></span><br><span class="line">        <span class="comment">//printSuper(orangeGenericClass);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//表示GenericClass的类型参数的下界是Apple</span></span><br><span class="line">        GenericClass&lt;? <span class="keyword">super</span> Apple&gt; supperAppleGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        supperAppleGenericClass.setData(<span class="keyword">new</span> Apple());</span><br><span class="line">        supperAppleGenericClass.setData(<span class="keyword">new</span> HongFuShiApple());</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * ？ super  X  表示类型的下界，类型参数是X的超类（包括X本身），</span></span><br><span class="line"><span class="comment">         * 那么可以肯定的说，get方法返回的一定是个X的超类，那么到底是哪个超类？不知道，</span></span><br><span class="line"><span class="comment">         * 但是可以肯定的说，Object一定是它的超类，所以get方法返回Object。</span></span><br><span class="line"><span class="comment">         * 编译器是可以确定知道的。对于set方法来说，编译器不知道它需要的确切类型，但是X和X的子类可以安全的转型为X。</span></span><br><span class="line"><span class="comment">         * 总结：主要用于安全地写入数据，可以写入X及其子类型。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//supperAppleGenericClass.setData(new Fruit());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//get方法只会返回一个Object类型的值。</span></span><br><span class="line">        Object data = supperAppleGenericClass.getData();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &lt;?&gt; 指定了没有限定的通配符</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printNonLimit</span><span class="params">(GenericClass&lt;?&gt; genericClass)</span> </span>&#123;</span><br><span class="line">        System.out.println(genericClass.getData());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">useNonLimit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        GenericClass&lt;Food&gt; foodGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printNonLimit(foodGenericClass);</span><br><span class="line">        GenericClass&lt;Fruit&gt; fruitGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printNonLimit(fruitGenericClass);</span><br><span class="line">        GenericClass&lt;Apple&gt; appleGenericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        printNonLimit(appleGenericClass);</span><br><span class="line"></span><br><span class="line">        GenericClass&lt;?&gt; genericClass = <span class="keyword">new</span> GenericClass&lt;&gt;();</span><br><span class="line">        <span class="comment">//setData 方法不能被调用， 甚至不能用 Object 调用；</span></span><br><span class="line">        <span class="comment">//genericClass.setData(foodGenericClass);</span></span><br><span class="line">        <span class="comment">//genericClass.setData(new Object());</span></span><br><span class="line">        <span class="comment">//返回值只能赋给 Object</span></span><br><span class="line">        Object object = genericClass.getData();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>PECS法则</p>
<p>PECS指“Producer Extends，Consumer Super”。换句话说，如果参数化类型表示一个生产者，就使用&lt;? extends T&gt;；如果它表示一个消费者，就使用&lt;? super T&gt;。</p>
<ol>
<li>如果你想从一个数据类型里获取数据，那么它就是生产者，我们要从里面get()数据，这样的使用 ? extends 通配符2. 如果你想把对象写入一个数据结构里，那么他就是消费者，我们要把数据丢入这个数据结构(set())， 这时候使用 ? super 通配符</li>
<li>如果你既想存，又想取，那就别用通配符。</li>
</ol>
<p>PESC法则请参考：</p>
<ul>
<li><a href="https://www.cnblogs.com/softidea/p/4106659.html" target="_blank" rel="noopener">浅谈Java泛型中的extends和super关键字（转）</a></li>
<li><a href="https://www.jianshu.com/p/d985d24fe940" target="_blank" rel="noopener">困扰多年的Java泛型 extends T&gt; super T&gt;，终于搞清楚了！</a></li>
</ul>
<h1 id="九-获取泛型的参数类型"><a href="#九-获取泛型的参数类型" class="headerlink" title="九.获取泛型的参数类型"></a>九.获取泛型的参数类型</h1><p>参考： <a href="https://www.jianshu.com/p/c820e55d9f27" target="_blank" rel="noopener">TypeToken</a></p>
<h1 id="十-Gson中的TypeToken"><a href="#十-Gson中的TypeToken" class="headerlink" title="十.Gson中的TypeToken"></a>十.Gson中的TypeToken</h1><p>参考： <a href="https://www.jianshu.com/p/c820e55d9f27" target="_blank" rel="noopener">TypeToken</a></p>
<p>总结的内容，大部分参考并摘录了：<br><a href="https://www.jianshu.com/p/986f732ed2f1" target="_blank" rel="noopener">https://www.jianshu.com/p/986f732ed2f1</a><br><a href="https://blog.csdn.net/s10461/article/details/53941091" target="_blank" rel="noopener">https://blog.csdn.net/s10461/article/details/53941091</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Fan shanhong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/03/12/Java/泛型总结/">http://yoursite.com/2020/03/12/Java/泛型总结/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/05/14/Flutter/Flutter打包版本/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span></span></div></a></div><div class="next-post pull_right"><a href="/2020/03/12/Android/Volley/Google Volley源码分析/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span></span></div></a></div></nav></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Fan shanhong</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script></body></html>